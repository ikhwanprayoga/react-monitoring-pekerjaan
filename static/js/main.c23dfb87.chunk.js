(this["webpackJsonpract-monitoring-pekerjaan"]=this["webpackJsonpract-monitoring-pekerjaan"]||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),o=(a(72),a(73),a(74),a(7)),i=a(8),s=a(9),u=a(10),m=a(15),p=a(12),d=a(20),h=a(6),v=a.n(h),f=a(14),b=a(122),E=a(117),g=a(26),j=a.n(g),k=a(25),O=k.NotificationManager;function y(e){return w.apply(this,arguments)}function w(){return(w=Object(f.a)(v.a.mark((function e(t){var a,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat("http://localhost:5000/api/v1","/login"),t);case 3:if("success"!==(a=e.sent).data.status){e.next=12;break}return n={token:a.data.token,level:a.data.data.level,name:a.data.data.name},localStorage.setItem("user",JSON.stringify(n)),r={username:a.data.data.username,name:a.data.data.name,level:a.data.data.level,status:a.data.status},O.success("Selamat datang kembali","Login berhasil"),e.abrupt("return",r);case 12:return O.error("Periksa kembali username dan password anda","Login gagal"),e.abrupt("return",a.data);case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}var x=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).login=Object(f.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.userForm,e.next=3,y(t);case 3:"success"===(a=e.sent).status&&"superior"===a.level?n.props.history.push("/superior/data"):"success"===a.status&&"operator"===a.level?n.props.history.push("/operator/data"):n.props.history.push("/login");case 5:case"end":return e.stop()}}),e)}))),n.handleChangeForm=function(e){var t=Object(d.a)({},n.state.userForm);t[e.target.name]=e.target.value,n.setState({userForm:t})},n.state={userForm:{username:"",password:""}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(b.a.Group,{controlId:"formBasicEmail"},r.a.createElement(b.a.Label,null,"Username"),r.a.createElement(b.a.Control,{type:"text",placeholder:"Masukan username",name:"username",onChange:this.handleChangeForm})),r.a.createElement(b.a.Group,{controlId:"formBasicPassword"},r.a.createElement(b.a.Label,null,"Password"),r.a.createElement(b.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:this.handleChangeForm})),r.a.createElement(E.a,{variant:"primary",type:"button",onClick:this.login},"Masuk")))}}]),a}(r.a.Component),N=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("p",null,"Dashboard Superior")}}]),a}(r.a.Component),C=a(118),F=a(119),D=a(57),M=(a(98),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.description,n=e.image,c=e.date;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:n})),r.a.createElement("div",{className:"text"},r.a.createElement("h3",null,t.length>15?"".concat(t.substr(0,15),"..."):t),r.a.createElement("p",null,a.length>30?"".concat(a.substr(0,30),"..."):a),r.a.createElement("p",null,c)))}}]),a}(r.a.Component));function S(){var e=JSON.parse(localStorage.getItem("user"));return{headers:{role:e.token,Authorization:"Bearer ".concat(e.token)}}}var L=k.NotificationManager;function A(){return B.apply(this,arguments)}function B(){return(B=Object(f.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("http://localhost:5000/api/v1","/activities"),Object(d.a)({},S()));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),L.error(e.t0.response.status,"Gagal memuat data"),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function G(e){return P.apply(this,arguments)}function P(){return(P=Object(f.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("http://localhost:5000/api/v1","/activity/").concat(t),Object(d.a)({},S()));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),L.error(e.t0.response.status,"Gagal memuat data"),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function I(e){return J.apply(this,arguments)}function J(){return(J=Object(f.a)(v.a.mark((function e(t){var a,n,r,c,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=new FormData,n=0,r=Object.keys(t.files);n<r.length;n++)c=r[n],a.append("files",t.files[c]);return a.append("title",t.title),a.append("description",t.description),a.append("date",t.date),a.append("user_id",t.userId),e.prev=6,e.next=9,j.a.post("".concat("http://localhost:5000/api/v1","/activity"),a,Object(d.a)({},S()));case 9:return l=e.sent,L.success("Data berhasil disubmit","Sukses"),e.abrupt("return",l.data);case 14:return e.prev=14,e.t0=e.catch(6),console.log("err",e.t0.response),L.error(e.t0.response.data.errors.message||e.t0.response.status,"Gagal memuat data"),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}function T(e){var t=new Date(e);return"".concat(t.getDate()," ").concat(["Januari","Februari","Maret","April","Mei","Juni","Juli","Augustus","September","Oktober","November","Desember"][t.getMonth()]," ").concat(t.getFullYear())}var q=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fetchList=Object(f.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:(t=e.sent)&&n.setState({listActivities:t.data});case 4:case"end":return e.stop()}}),e)}))),n.state={listActivities:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchList()}},{key:"render",value:function(){var e=this.state.listActivities;return r.a.createElement(C.a,{fluid:!0,className:"mt-4"},r.a.createElement(F.a,null,e.map((function(e){return r.a.createElement(D.a,{md:3,className:"mb-5"},r.a.createElement(m.b,{to:"/superior/list-galery/".concat(e.id)},r.a.createElement(M,{title:e.title,description:e.description,image:e.file?"".concat("http://localhost:5000","/photos/").concat(e.file):"".concat("http://localhost:5000","/images/no-image.png"),date:T(e.date)})))}))))}}]),a}(r.a.Component),U=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fetchList=Object(f.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:(t=e.sent)&&n.setState({listActivities:t.data});case 4:case"end":return e.stop()}}),e)}))),n.state={listActivities:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchList()}},{key:"render",value:function(){var e=this.state.listActivities;return r.a.createElement(C.a,{fluid:!0,className:"mt-4"},r.a.createElement(F.a,null,e.map((function(e){return r.a.createElement(D.a,{md:3,className:"mb-5"},r.a.createElement(m.b,{to:"/operator/list-galery/".concat(e.id)},r.a.createElement(M,{title:e.title,description:e.description,image:e.file?"".concat("http://localhost:5000","/photos/").concat(e.file):"".concat("http://localhost:5000","/images/no-image.png"),date:T(e.date)})))}))))}}]),a}(r.a.Component),$=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).submitData=Object(f.a)(v.a.mark((function e(){var t,a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.form,r=t.files,c=Object(d.a)({},a,{files:r}),e.next=4,I(c);case 4:"success"===e.sent.message&&n.setState({form:{userId:2,title:"",date:"",description:""},files:""});case 6:case"end":return e.stop()}}),e)}))),n.handleChangeForm=function(e){var t=Object(d.a)({},n.state.form);t[e.target.name]=e.target.value,n.setState({form:t})},n.handleChangeFiles=function(e){n.setState({files:e.target.files})},n.state={form:{userId:2,title:"",date:"",description:""},files:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.form;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,null,"Judul Pekerjaan"),r.a.createElement(b.a.Control,{type:"text",name:"title",value:e.title,onChange:this.handleChangeForm,placeholder:"Masukan judul pekerjaan",required:!0})),r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,null,"Deskripsi Pekerjaan"),r.a.createElement(b.a.Control,{type:"text",name:"description",value:e.description,onChange:this.handleChangeForm,placeholder:"Masukan deskripsi pekerjaan",required:!0})),r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,null,"Tanggal Pekerjaan"),r.a.createElement(b.a.Control,{type:"date",name:"date",value:e.date,onChange:this.handleChangeForm,placeholder:"Masukan tanggal pekerjaan",required:!0})),r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,null,"Foto Pekerjaan"),r.a.createElement(b.a.Control,{type:"file",name:"files",onChange:this.handleChangeFiles,multiple:!0,placeholder:"Masukan foto pekerjaan",required:!0})),r.a.createElement(E.a,{variant:"primary",onClick:this.submitData,type:"button"},"Upload")))}}]),a}(r.a.Component),z=a(123),H=a(124),W=a(31),Y=a.n(W),_=(a(109),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fetchActivty=Object(f.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.id,e.next=3,G(t);case 3:a=e.sent,n.setState({detail:a.detail,files:a.files});case 5:case"end":return e.stop()}}),e)}))),n.parsingFile=function(e){var t=[];return e.forEach((function(e){t.push({original:"".concat("http://localhost:5000","/photos/").concat(e.file),thumbnail:"".concat("http://localhost:5000","/photos/").concat(e.file)})})),t},n.state={detail:"",files:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchActivty()}},{key:"render",value:function(){var e=this.state,t=e.detail,a=e.files,n=this.parsingFile(a);return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{fluid:!0,className:"mt-4"},r.a.createElement(F.a,{className:"mb-4"},r.a.createElement(D.a,null,n.length>0?r.a.createElement(Y.a,{items:n}):r.a.createElement(z.a,{variant:"info"},"File tidak tersedia"))),r.a.createElement(F.a,{style:{marginBottom:"6rem"}},r.a.createElement(H.a,null,r.a.createElement(H.a.Header,null,T(t.date)),r.a.createElement(H.a.Body,null,r.a.createElement(H.a.Title,null,t.title),r.a.createElement(H.a.Text,null,t.description))))))}}]),a}(r.a.Component)),K=(a(110),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fetchActivty=Object(f.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.id,e.next=3,G(t);case 3:a=e.sent,n.setState({detail:a.detail,files:a.files});case 5:case"end":return e.stop()}}),e)}))),n.parsingFile=function(e){var t=[];return e.forEach((function(e){t.push({original:"".concat("http://localhost:5000","/photos/").concat(e.file),thumbnail:"".concat("http://localhost:5000","/photos/").concat(e.file)})})),t},n.state={detail:"",files:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchActivty()}},{key:"render",value:function(){var e=this.state,t=e.detail,a=e.files,n=this.parsingFile(a);return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{fluid:!0,className:"mt-4"},r.a.createElement(F.a,{className:"mb-4"},r.a.createElement(D.a,null,n.length>0?r.a.createElement(Y.a,{items:n}):r.a.createElement(z.a,{variant:"info"},"File tidak tersedia"))),r.a.createElement(F.a,{style:{marginBottom:"6rem"}},r.a.createElement(H.a,null,r.a.createElement(H.a.Header,null,T(t.date)),r.a.createElement(H.a.Body,null,r.a.createElement(H.a.Title,null,t.title),r.a.createElement(H.a.Text,null,t.description))))))}}]),a}(r.a.Component)),Q=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("p",null,"Home")}}]),a}(r.a.Component),R=a(120),V=a(121),X=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light d-none d-lg-block sticky-top",role:"navigation"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Page Login"),r.a.createElement(R.a,{className:"ml-auto"},r.a.createElement(V.a,null,r.a.createElement(m.c,{to:"/login",className:"nav-link"},"Login"))))))}}]),a}(r.a.Component),Z=a(32),ee=a(30),te=(a(113),[{route:"/operator/upload",icon:ee.b,label:"Upload"},{route:"/operator/data",icon:ee.a,label:"Data"}]),ae=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light d-none d-lg-block sticky-top nav-warna",role:"navigation"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("a",{className:"navbar-brand",href:"/home"},"Brand"),r.a.createElement(R.a,{className:"ml-auto"},r.a.createElement(V.a,null,r.a.createElement(m.c,{to:"/operator/upload",className:"nav-link"},"Upload")),r.a.createElement(V.a,null,r.a.createElement(m.c,{to:"/operator/data",className:"nav-link"},"Data"))))),r.a.createElement("nav",{className:"navbar fixed-bottom navbar-light d-block d-lg-none bottom-tab-nav nav-warna",role:"navigation"},r.a.createElement(R.a,{className:"w-100"},r.a.createElement("div",{className:" d-flex flex-row justify-content-around w-100"},te.map((function(e,t){return r.a.createElement(V.a,{key:"tab-".concat(t)},r.a.createElement(m.c,{to:e.route,className:"nav-link bottom-nav-link",activeClassName:"active"},r.a.createElement("div",{className:"row d-flex flex-column justify-content-center align-items-center"},r.a.createElement(Z.a,{size:"lg",icon:e.icon}),r.a.createElement("div",{className:"bottom-tab-label"},e.label))))}))))))}}]),a}(r.a.Component),ne=(a(114),[{route:"/superior/data",icon:ee.a,label:"Data"}]),re=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light d-none d-lg-block sticky-top nav-warna",role:"navigation"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("a",{className:"navbar-brand",href:"/home"},"Brand"),r.a.createElement(R.a,{className:"ml-auto"},r.a.createElement(V.a,null,r.a.createElement(m.c,{to:"/superior/data",className:"nav-link"},"Data"))))),r.a.createElement("nav",{className:"navbar fixed-bottom d-block d-lg-none bottom-tab-nav nav-warna",role:"navigation"},r.a.createElement(R.a,{className:"w-100"},r.a.createElement("div",{className:" d-flex flex-row justify-content-around w-100"},ne.map((function(e,t){return r.a.createElement(V.a,{key:"tab-".concat(t)},r.a.createElement(m.c,{to:e.route,className:"nav-link bottom-nav-link",activeClassName:"active"},r.a.createElement("div",{className:"row d-flex flex-column justify-content-center align-items-center"},r.a.createElement(Z.a,{size:"lg",icon:e.icon}),r.a.createElement("div",{className:"bottom-tab-label"},e.label))))}))))))}}]),a}(r.a.Component),ce=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getLevel=function(){var e=n.props.location.pathname;return/^\/operator(?=\/|$)/i.test(e)?"operator":/^\/superior(?=\/|$)/i.test(e)?"superior":/^\/login(?=\/|$)/i.test(e)?"auth":void 0},n.state={level:""},n}return Object(i.a)(a,[{key:"render",value:function(){switch(this.getLevel()){case"operator":return r.a.createElement(ae,null);case"superior":return r.a.createElement(re,null);case"auth":return r.a.createElement(X,null);default:return""}}}]),a}(r.a.Component),le=Object(p.g)(ce),oe=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement(le,null),r.a.createElement(C.a,{fluid:!0,style:{marginTop:"20px"}},r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:Q},r.a.createElement(p.a,{to:"/login"})),r.a.createElement(p.b,{path:"/login",exact:!0,component:x}),r.a.createElement(p.b,{path:"/superior/dashboard",exact:!0,component:N}),r.a.createElement(p.b,{path:"/superior/data",exact:!0,component:q}),r.a.createElement(p.b,{path:"/superior/list-galery/:id",exact:!0,component:_}),r.a.createElement(p.b,{path:"/operator/upload",component:$}),r.a.createElement(p.b,{path:"/operator/data",component:U}),r.a.createElement(p.b,{path:"/operator/list-galery/:id",exact:!0,component:K})))))}}]),a}(r.a.Component);var ie=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.NotificationContainer,null),r.a.createElement(oe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,a){e.exports=a(115)},73:function(e,t,a){},98:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.c23dfb87.chunk.js.map